#!/usr/bin/env ruby

$LOAD_PATH.unshift File.expand_path('../../lib', __FILE__)

raise "usage: transform <brs_xml> <xsl>" if ARGV.size < 2

transformer = if RUBY_PLATFORM == 'java'
                require 'bsmart/java_transformer'
                Bsmart::JavaTransformer.new *ARGV
              else
                require 'bsmart/mri_transformer'
                Bsmart::MRITransformer.new *ARGV
              end

transformer.transform
puts transformer.output
